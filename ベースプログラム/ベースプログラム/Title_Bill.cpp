//***********************************************************************************************************
//
//　 Title_Bill.cpp
//
//***********************************************************************************************************


//***********************************************************************************************************
// インクルード部
//***********************************************************************************************************
#include "Title_Bill.h"


//***********************************************************************************************************
// コンストラクタ
//***********************************************************************************************************
Title_Bill::Title_Bill()
{
	// オブジェクトを何個作成するか？(最低 1〜)
	//*******************************************************************************************************
	nObject_Num = 1;

	// テクスチャを何種類使用するか？(最低 1〜)
	//*******************************************************************************************************
	nUse_Texture_Num = 1;

	bBillboard	= true;
	bAlphaTest	= false;

	// オブジェクトの個数分、必要なサイズを確保
	Tex_3D_Data = new TEXTURE_3D_DATA[nObject_Num];

	for ( int i = 0 ; i < nObject_Num ; i ++ )
	{
		// 座標(画像の中心を原点)
		Tex_3D_Data[i].Obj_Pos = D3DXVECTOR3( 0.0f + i * 200, 0.0f, 0.0f);

		// オブジェクトのサイズ(X,Y)
		Tex_3D_Data[i].Obj_Size = D3DXVECTOR2(SCREEN_WIDTH / 2, SCREEN_HEIGHT / 2);

		// テクスチャ座標(0.0f〜1.0f)
		Tex_3D_Data[i].Tex_Pos = D3DXVECTOR2(0.0f, 0.0f);

		// 1アニメーション毎のテクスチャ座標(0.0f〜1.0f)
		Tex_3D_Data[i].Tex_Anim = D3DXVECTOR2(1.0f, 1.0f);

		// 画像のRGBA値
		Tex_3D_Data[i].Red =
		Tex_3D_Data[i].Brue =
		Tex_3D_Data[i].Green = 255;
		Tex_3D_Data[i].Alpha	= 0;

		// 画像の拡大率(0.0f〜)
		Tex_3D_Data[i].Obj_Scale = D3DXVECTOR3(1.0f, 1.0f, 1.0f);

		// 画像の回転角度(0.0f〜)
		Tex_3D_Data[i].Obj_Rot	= D3DXVECTOR3(0.0f, 0.0f, 0.0f);
	}

	CTexture_3D_Base::Init();

	// テクスチャ読み込み(複数の場合は複数回読みこんでください)
	// 引数：	TEXTURE_FILE = 読み込みたい画像ファイルのパス
	//			NUMBER		 = 読み込むテクスチャパスの配列番地(これの数字下のDraw()で渡す引数の数字になります)
	//						   ( 0 〜 指定してください)
	//*******************************************************************************************************
	CTexture_3D_Base::Load_Texture( "../DATA/TEXTURE/Title.png", 0 );

	nAddAlpha = 1;
}

//***********************************************************************************************************
// デストラクタ
//***********************************************************************************************************
Title_Bill::~Title_Bill()
{
	CTexture_3D_Base::Finalise();
}

//***********************************************************************************************************
// void Title_Bill::Update
// 説明：更新処理
// 引数：なし　戻り値：なし
//***********************************************************************************************************
void Title_Bill::Update()
{
	Tex_3D_Data[0].Alpha += nAddAlpha;

	if (Tex_3D_Data[0].Alpha >= 200)
		nAddAlpha *= -1;

	if (Tex_3D_Data[0].Alpha <= 0)
		nAddAlpha *= -1;

	CTexture_3D_Base::Update();
}

//***********************************************************************************************************
// void Title_Bill::Draw
// 説明：描画処理
// 引数：なし　戻り値：なし
//***********************************************************************************************************
void Title_Bill::Draw()
{
	//*******************************************************************************************************
	// 描画はここで
	// 引数：	NUMBER		= 描画したいオブジェクトの番号( nObject_Num - 1 まで )
	//			SET_TEXTURE = オブジェクトに貼り付けたいテクスチャの番号( Load_Texture()で設定した数字と一緒( 0 〜 ) )
	//*******************************************************************************************************
	CTexture_3D_Base::Draw(0, 0);
}

//***********************************************************************************************************
// EOF
//***********************************************************************************************************